<!DOCTYPE html>
<html lang='en'>

<head>
    <title>
        Town Branch Corridor
    </title>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='shortcut icon' href='Your favicon path goes here' type='image/x-icon'>
    <link href='https://api.mapbox.com/mapbox-assembly/v0.24.0/assembly.min.css' rel='stylesheet'>
    <script async defer src='https://api.mapbox.com/mapbox-assembly/v0.24.0/assembly.js'></script>
    <link href="https://fonts.googleapis.com/css?family=Alfa+Slab+One|Open+Sans:300,400,700&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', 'sans serif';
        }

        iframe {
            padding: 0;
            margin: 0;
            border: 0;
        }

        .txt-h1 {
            font-family: 'Alfa Slab One', 'sans serif';
            font-size: 4em;

        }

        #imgGallery img {
            border-radius: 3px;
        }
    </style>
</head>

<body>
    <header class='grid grid--gut12 mx30 mt30'>
        <div class='col col--12 col--10-ml'>
            <p class='txt-h1'>Town Branch Corridor</p>
            <p class='txt-h3'>Historic images and maps of Lexington's founding stream, Town Branch of the Elkhorn </p>
        </div>
        <div class='col col--12 col--2-ml'>
            <img src='../graphics/ky-lexington-01.svg' class='w180 mt12'>
        </div>
    </header>
    <nav class='flex-parent flex-parent--row mx30 my12'>
        <button id='y1887' class='flex-child btn btn--orange mx6'>1887</button>
        <button id='y1907' class='flex-child btn btn--darken50 mr6'>1907</button>
        <button id='y1971' class='flex-child btn btn--darken50 mr6'>1971</button>
    </nav>
    <section class='flex-parent flex-parent--wrap flex-parent--center-cross mx30 mt12 h-auto'>
        <iframe id='frame' src='../1886' class='flex-child w-full h600'></iframe>
    </section>
    <section class='flex-parent flex-parent--center-cross flex-parent--row mx30 mb12 px12 bg-darken10 round-b'>
        <div id='info' class='flex-child my12'>
            <h3 class='txt-h3'>Georeferenced Sanborn map of Downtown Lexington, 1886.</h3>
            <a href='#' id='full' class='btn btn--darken50 mr6 my6'>Full-screen</a>
                <a href='#' id='download' class='btn btn--darken50 mr6 my6'>Download</a>
                <span></span>
        </div>
    </section>
    <section class='flex-parent--stretch-cross mx30 mt30' id='imgGallery'>
        <div class='flex-child my12'>
            <h2 class='txt-h1'>Photographs</h2>
        </div>
        <div class='grid grid--gut12 mb12'>
            <div class='col col--12 col--4-ml'>
                <img src='../graphics/looking-east-th.jpg' width='100%'>
                <div class='flex-child px12 py12 bg-darken10'>
                    Text
                </div>
            </div>
            <div class='col col--12 col--4-ml'>
                <img src='../graphics/looking-west-th.jpg' width='100%'>
                <div class='flex-child px12 py12 bg-darken10'>
                    Text
                </div>
            </div>
            <div class='col col--12 col--4-ml'>
                <img src='../graphics/city-market-th.jpg' width='100%'>
                <div class='flex-child px12 py12 bg-darken10'>
                    Text
                </div>
            </div>
        </div>
        <div class='grid grid--gut12 mb12'>
            <div class='col col--12 col--4-ml'>
                <img src='../graphics/sewer-limestone-96pa101_1930_1939_3432.jpg' width='100%'>
                <div class='flex-child px12 py12 bg-darken10'>
                    Text
                </div>
            </div>
            <div class='col col--12 col--4-ml'>
                <img src='../graphics//sewer-upper-96pa101_1930_1939_3401e.jpg' width='100%'>
                <div class='flex-child px12 py12 bg-darken10'>
                    Text
                </div>
            </div>
            <div class='col col--12 col--4-ml'>
                <img src='../graphics/sewer-upper-96pa101_1930_1939_3498d.jpg' width='100%'>
                <div class='flex-child px12 py12 bg-darken10'>
                    Text
                </div>
            </div>
        </div>
    </section>
    <footer class='flex-parent flex-parent--row mx30 my12'>
        <div class='flex-child'>
            <h3 class='txt-h3'>Sources and credits</h3>
            <p>Add it here.</p>
        </div>
    </footer>
    <script>
        const historicLex = {
            maps: {
                1887: {
                    name: "Sanborn map of Downtown Lexington, 1886",
                    url: "/maps/lex-tbt-main-st/1886",
                    properties: {
                        download: "https://outragegis.com/tiles/lex_tbt_downtown_1886/lex_1886_main_st.jpg",
                        size: "16 MB",
                        dimensions: "34,826 px x 6,290 px",
                        format: "JPG"
                    }
                },
                1907: {
                    name: "Sanborn map of Downtown Lexington, 1907",
                    url: "/maps/lex-tbt-main-st/1907",
                    properties: {
                        download: "https://outragegis.com/tiles/lex_tbt_downtown_1907/lex_1907_main_st.jpg",
                        size: "16 MB",
                        dimensions: "33,403 px x 6,943 px",
                        format: "JPG"
                    }
                },
                1971: {
                    name: "USGS aerial photography of Downtown Lexington, 1971",
                    url: "/maps/lex-tbt-main-st/1971",
                }
            },
            hookButtons() {
                const maps = historicLex.maps
                const frame = document.querySelector('#frame')
                const info = document.querySelector('#info .txt-h3')
                const download = document.querySelector('#info #download')

                for (let map in maps) {
                    let button = document.querySelector(`#y${map}`)
                    console.log(map, button)
                    button.addEventListener("click", function () {
                        for (let m in maps) {
                            document.querySelector(`#y${m}`).classList.remove('btn--orange')
                            document.querySelector(`#y${m}`).classList.add('btn--darken50')
                        }
                        button.classList.remove('btn--darken50')
                        this.classList.add('btn--orange')
                        frame.src = maps[map].url
                        document.querySelector('#info #full').href = maps[map].url
                        info.innerHTML = maps[map].name
                        if(maps[map].properties) {
                            const m = maps[map].properties
                            download.style.display = 'inline-block'
                            download.href = maps[map].properties.download
                            download.innerHTML = `${m.dimensions}, ${m.size}, ${m.format}`
                        } else {
                            download.style.display = 'none'
                        }
                    })
                }

            }
        }

        historicLex.hookButtons()

    </script>

</body>

</html>